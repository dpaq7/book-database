{"mappings":"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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-87bc5db191913576.js","src/main.js","src/api.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","src/ui.js","src/book-service.js","src/challenge-service.js","src/import-export.js"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"d6ea1d42532a7575\";var HMR_USE_SSE = false;module.bundle.HMR_BUNDLE_ID = \"bed887d14d6bcbeb\";\"use strict\";\n\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE, HMR_USE_SSE, chrome, browser, __parcel__import__, __parcel__importScripts__, ServiceWorkerGlobalScope */\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: {|[string]: mixed|};\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ninterface ExtensionContext {\n  runtime: {|\n    reload(): void,\n    getURL(url: string): string;\n    getManifest(): {manifest_version: number, ...};\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\ndeclare var HMR_USE_SSE: boolean;\ndeclare var chrome: ExtensionContext;\ndeclare var browser: ExtensionContext;\ndeclare var __parcel__import__: (string) => Promise<void>;\ndeclare var __parcel__importScripts__: (string) => Promise<void>;\ndeclare var globalThis: typeof self;\ndeclare var ServiceWorkerGlobalScope: Object;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData[moduleName],\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData[moduleName] = undefined;\n}\nmodule.bundle.Module = Module;\nmodule.bundle.hotData = {};\nvar checkedAssets /*: {|[string]: boolean|} */, disposedAssets /*: {|[string]: boolean|} */, assetsToDispose /*: Array<[ParcelRequire, string]> */, assetsToAccept /*: Array<[ParcelRequire, string]> */;\nfunction getHostname() {\n  return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\nfunction getPort() {\n  return HMR_PORT || location.port;\n}\n\n// eslint-disable-next-line no-redeclare\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol = HMR_SECURE || location.protocol == 'https:' && !['localhost', '127.0.0.1', '0.0.0.0'].includes(hostname) ? 'wss' : 'ws';\n  var ws;\n  if (HMR_USE_SSE) {\n    ws = new EventSource('/__parcel_hmr');\n  } else {\n    try {\n      ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/');\n    } catch (err) {\n      if (err.message) {\n        console.error(err.message);\n      }\n      ws = {};\n    }\n  }\n\n  // Web extension context\n  var extCtx = typeof browser === 'undefined' ? typeof chrome === 'undefined' ? null : chrome : browser;\n\n  // Safari doesn't support sourceURL in error stacks.\n  // eval may also be disabled via CSP, so do a quick check.\n  var supportsSourceURL = false;\n  try {\n    (0, eval)('throw new Error(\"test\"); //# sourceURL=test.js');\n  } catch (err) {\n    supportsSourceURL = err.stack.includes('test.js');\n  }\n\n  // $FlowFixMe\n  ws.onmessage = async function (event /*: {data: string, ...} */) {\n    checkedAssets = {} /*: {|[string]: boolean|} */;\n    disposedAssets = {} /*: {|[string]: boolean|} */;\n    assetsToAccept = [];\n    assetsToDispose = [];\n    var data /*: HMRMessage */ = JSON.parse(event.data);\n    if (data.type === 'reload') {\n      fullReload();\n    } else if (data.type === 'update') {\n      // Remove error overlay if there is one\n      if (typeof document !== 'undefined') {\n        removeErrorOverlay();\n      }\n      let assets = data.assets.filter(asset => asset.envHash === HMR_ENV_HASH);\n\n      // Handle HMR Update\n      let handled = assets.every(asset => {\n        return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n      });\n      if (handled) {\n        console.clear();\n\n        // Dispatch custom event so other runtimes (e.g React Refresh) are aware.\n        if (typeof window !== 'undefined' && typeof CustomEvent !== 'undefined') {\n          window.dispatchEvent(new CustomEvent('parcelhmraccept'));\n        }\n        await hmrApplyUpdates(assets);\n        hmrDisposeQueue();\n\n        // Run accept callbacks. This will also re-execute other disposed assets in topological order.\n        let processedAssets = {};\n        for (let i = 0; i < assetsToAccept.length; i++) {\n          let id = assetsToAccept[i][1];\n          if (!processedAssets[id]) {\n            hmrAccept(assetsToAccept[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n      } else fullReload();\n    }\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      for (let ansiDiagnostic of data.diagnostics.ansi) {\n        let stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n        console.error('🚨 [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n      }\n      if (typeof document !== 'undefined') {\n        // Render the fancy html overlay\n        removeErrorOverlay();\n        var overlay = createErrorOverlay(data.diagnostics.html);\n        // $FlowFixMe\n        document.body.appendChild(overlay);\n      }\n    }\n  };\n  if (ws instanceof WebSocket) {\n    ws.onerror = function (e) {\n      if (e.message) {\n        console.error(e.message);\n      }\n    };\n    ws.onclose = function () {\n      console.warn('[parcel] 🚨 Connection to the HMR server was lost');\n    };\n  }\n}\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel] ✨ Error resolved');\n  }\n}\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  let errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n  for (let diagnostic of diagnostics) {\n    let stack = diagnostic.frames.length ? diagnostic.frames.reduce((p, frame) => {\n      return `${p}\n<a href=\"/__parcel_launch_editor?file=${encodeURIComponent(frame.location)}\" style=\"text-decoration: underline; color: #888\" onclick=\"fetch(this.href); return false\">${frame.location}</a>\n${frame.code}`;\n    }, '') : diagnostic.stack;\n    errorHTML += `\n      <div>\n        <div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">\n          🚨 ${diagnostic.message}\n        </div>\n        <pre>${stack}</pre>\n        <div>\n          ${diagnostic.hints.map(hint => '<div>💡 ' + hint + '</div>').join('')}\n        </div>\n        ${diagnostic.documentation ? `<div>📝 <a style=\"color: violet\" href=\"${diagnostic.documentation}\" target=\"_blank\">Learn more</a></div>` : ''}\n      </div>\n    `;\n  }\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\nfunction fullReload() {\n  if ('reload' in location) {\n    location.reload();\n  } else if (extCtx && extCtx.runtime && extCtx.runtime.reload) {\n    extCtx.runtime.reload();\n  }\n}\nfunction getParents(bundle, id) /*: Array<[ParcelRequire, string]> */{\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n  var parents = [];\n  var k, d, dep;\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n  return parents;\n}\nfunction updateLink(link) {\n  var href = link.getAttribute('href');\n  if (!href) {\n    return;\n  }\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n  newLink.setAttribute('href',\n  // $FlowFixMe\n  href.split('?')[0] + '?' + Date.now());\n  // $FlowFixMe\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href /*: string */ = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(location.origin) !== 0 && !servedFromHMRServer;\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n    cssTimeout = null;\n  }, 50);\n}\nfunction hmrDownload(asset) {\n  if (asset.type === 'js') {\n    if (typeof document !== 'undefined') {\n      let script = document.createElement('script');\n      script.src = asset.url + '?t=' + Date.now();\n      if (asset.outputFormat === 'esmodule') {\n        script.type = 'module';\n      }\n      return new Promise((resolve, reject) => {\n        var _document$head;\n        script.onload = () => resolve(script);\n        script.onerror = reject;\n        (_document$head = document.head) === null || _document$head === void 0 || _document$head.appendChild(script);\n      });\n    } else if (typeof importScripts === 'function') {\n      // Worker scripts\n      if (asset.outputFormat === 'esmodule') {\n        return __parcel__import__(asset.url + '?t=' + Date.now());\n      } else {\n        return new Promise((resolve, reject) => {\n          try {\n            __parcel__importScripts__(asset.url + '?t=' + Date.now());\n            resolve();\n          } catch (err) {\n            reject(err);\n          }\n        });\n      }\n    }\n  }\n}\nasync function hmrApplyUpdates(assets) {\n  global.parcelHotUpdate = Object.create(null);\n  let scriptsToRemove;\n  try {\n    // If sourceURL comments aren't supported in eval, we need to load\n    // the update from the dev server over HTTP so that stack traces\n    // are correct in errors/logs. This is much slower than eval, so\n    // we only do it if needed (currently just Safari).\n    // https://bugs.webkit.org/show_bug.cgi?id=137297\n    // This path is also taken if a CSP disallows eval.\n    if (!supportsSourceURL) {\n      let promises = assets.map(asset => {\n        var _hmrDownload;\n        return (_hmrDownload = hmrDownload(asset)) === null || _hmrDownload === void 0 ? void 0 : _hmrDownload.catch(err => {\n          // Web extension fix\n          if (extCtx && extCtx.runtime && extCtx.runtime.getManifest().manifest_version == 3 && typeof ServiceWorkerGlobalScope != 'undefined' && global instanceof ServiceWorkerGlobalScope) {\n            extCtx.runtime.reload();\n            return;\n          }\n          throw err;\n        });\n      });\n      scriptsToRemove = await Promise.all(promises);\n    }\n    assets.forEach(function (asset) {\n      hmrApply(module.bundle.root, asset);\n    });\n  } finally {\n    delete global.parcelHotUpdate;\n    if (scriptsToRemove) {\n      scriptsToRemove.forEach(script => {\n        if (script) {\n          var _document$head2;\n          (_document$head2 = document.head) === null || _document$head2 === void 0 || _document$head2.removeChild(script);\n        }\n      });\n    }\n  }\n}\nfunction hmrApply(bundle /*: ParcelRequire */, asset /*:  HMRAsset */) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (asset.type === 'css') {\n    reloadCSS();\n  } else if (asset.type === 'js') {\n    let deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n    if (deps) {\n      if (modules[asset.id]) {\n        // Remove dependencies that are removed and will become orphaned.\n        // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.\n        let oldDeps = modules[asset.id][1];\n        for (let dep in oldDeps) {\n          if (!deps[dep] || deps[dep] !== oldDeps[dep]) {\n            let id = oldDeps[dep];\n            let parents = getParents(module.bundle.root, id);\n            if (parents.length === 1) {\n              hmrDelete(module.bundle.root, id);\n            }\n          }\n        }\n      }\n      if (supportsSourceURL) {\n        // Global eval. We would use `new Function` here but browser\n        // support for source maps is better with eval.\n        (0, eval)(asset.output);\n      }\n\n      // $FlowFixMe\n      let fn = global.parcelHotUpdate[asset.id];\n      modules[asset.id] = [fn, deps];\n    }\n\n    // Always traverse to the parent bundle, even if we already replaced the asset in this bundle.\n    // This is required in case modules are duplicated. We need to ensure all instances have the updated code.\n    if (bundle.parent) {\n      hmrApply(bundle.parent, asset);\n    }\n  }\n}\nfunction hmrDelete(bundle, id) {\n  let modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (modules[id]) {\n    // Collect dependencies that will become orphaned when this module is deleted.\n    let deps = modules[id][1];\n    let orphans = [];\n    for (let dep in deps) {\n      let parents = getParents(module.bundle.root, deps[dep]);\n      if (parents.length === 1) {\n        orphans.push(deps[dep]);\n      }\n    }\n\n    // Delete the module. This must be done before deleting dependencies in case of circular dependencies.\n    delete modules[id];\n    delete bundle.cache[id];\n\n    // Now delete the orphans.\n    orphans.forEach(id => {\n      hmrDelete(module.bundle.root, id);\n    });\n  } else if (bundle.parent) {\n    hmrDelete(bundle.parent, id);\n  }\n}\nfunction hmrAcceptCheck(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  if (hmrAcceptCheckOne(bundle, id, depsByBundle)) {\n    return true;\n  }\n\n  // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.\n  let parents = getParents(module.bundle.root, id);\n  let accepted = false;\n  while (parents.length > 0) {\n    let v = parents.shift();\n    let a = hmrAcceptCheckOne(v[0], v[1], null);\n    if (a) {\n      // If this parent accepts, stop traversing upward, but still consider siblings.\n      accepted = true;\n    } else {\n      // Otherwise, queue the parents in the next level upward.\n      let p = getParents(module.bundle.root, v[1]);\n      if (p.length === 0) {\n        // If there are no parents, then we've reached an entry without accepting. Reload.\n        accepted = false;\n        break;\n      }\n      parents.push(...p);\n    }\n  }\n  return accepted;\n}\nfunction hmrAcceptCheckOne(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n  if (checkedAssets[id]) {\n    return true;\n  }\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  assetsToDispose.push([bundle, id]);\n  if (!cached || cached.hot && cached.hot._acceptCallbacks.length) {\n    assetsToAccept.push([bundle, id]);\n    return true;\n  }\n}\nfunction hmrDisposeQueue() {\n  // Dispose all old assets.\n  for (let i = 0; i < assetsToDispose.length; i++) {\n    let id = assetsToDispose[i][1];\n    if (!disposedAssets[id]) {\n      hmrDispose(assetsToDispose[i][0], id);\n      disposedAssets[id] = true;\n    }\n  }\n  assetsToDispose = [];\n}\nfunction hmrDispose(bundle /*: ParcelRequire */, id /*: string */) {\n  var cached = bundle.cache[id];\n  bundle.hotData[id] = {};\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData[id];\n  }\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData[id]);\n    });\n  }\n  delete bundle.cache[id];\n}\nfunction hmrAccept(bundle /*: ParcelRequire */, id /*: string */) {\n  // Execute the module.\n  bundle(id);\n\n  // Run the accept callbacks in the new version of the module.\n  var cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    let assetsToAlsoAccept = [];\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      let additionalAssets = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n      if (Array.isArray(additionalAssets) && additionalAssets.length) {\n        assetsToAlsoAccept.push(...additionalAssets);\n      }\n    });\n    if (assetsToAlsoAccept.length) {\n      let handled = assetsToAlsoAccept.every(function (a) {\n        return hmrAcceptCheck(a[0], a[1]);\n      });\n      if (!handled) {\n        return fullReload();\n      }\n      hmrDisposeQueue();\n    }\n  }\n}","import { apiService } from './api.js';\nimport { uiService } from './ui.js';\nimport { bookService } from './book-service.js';\nimport { challengeService } from './challenge-service.js';\nimport { importExportService } from './import-export.js';\n\n// Initialize the application when DOM is loaded\ndocument.addEventListener('DOMContentLoaded', () => {\n  // Initialize services\n  apiService.init();\n  uiService.init();\n  bookService.init();\n  challengeService.init();\n  importExportService.init();\n  \n  // Load initial data\n  bookService.loadBooks();\n  challengeService.loadChallenges();\n  \n  // Set up navigation\n  setupNavigation();\n  \n  // Set up event listeners\n  setupEventListeners();\n});\n\n// Set up navigation between pages\nfunction setupNavigation() {\n  const navLinks = document.querySelectorAll('.nav-link');\n  \n  navLinks.forEach(link => {\n    link.addEventListener('click', (e) => {\n      e.preventDefault();\n      \n      // Remove active class from all links\n      navLinks.forEach(l => l.classList.remove('active'));\n      \n      // Add active class to clicked link\n      link.classList.add('active');\n      \n      // Get page to show\n      const page = link.getAttribute('data-page');\n      \n      // Update page title\n      const pageTitle = document.getElementById('page-title');\n      pageTitle.textContent = link.textContent.trim();\n      \n      // Hide all pages\n      const pages = document.querySelectorAll('.page-content');\n      pages.forEach(p => p.classList.add('d-none'));\n      \n      // Show selected page\n      const selectedPage = document.getElementById(`${page}-page`);\n      if (selectedPage) {\n        selectedPage.classList.remove('d-none');\n      }\n      \n      // Load page-specific data\n      if (page === 'books') {\n        bookService.loadBooks();\n      } else if (page === 'currently-reading') {\n        bookService.loadShelf('currently-reading');\n      } else if (page === 'read') {\n        bookService.loadShelf('read');\n      } else if (page === 'to-read') {\n        bookService.loadShelf('to-read');\n      } else if (page === 'favorites') {\n        bookService.loadFavorites();\n      } else if (page === 'challenges') {\n        challengeService.loadChallenges();\n      }\n    });\n  });\n}\n\n// Set up event listeners for various actions\nfunction setupEventListeners() {\n  // Add book button\n  const addBookBtn = document.getElementById('add-book-btn');\n  addBookBtn.addEventListener('click', () => {\n    uiService.showBookModal();\n  });\n  \n  // Save book button\n  const saveBookBtn = document.getElementById('save-book-btn');\n  saveBookBtn.addEventListener('click', () => {\n    bookService.saveBook();\n  });\n  \n  // Search button\n  const searchButton = document.getElementById('search-button');\n  searchButton.addEventListener('click', () => {\n    const searchInput = document.getElementById('search-input');\n    bookService.searchBooks(searchInput.value);\n  });\n  \n  // Search input (on enter key)\n  const searchInput = document.getElementById('search-input');\n  searchInput.addEventListener('keyup', (e) => {\n    if (e.key === 'Enter') {\n      bookService.searchBooks(searchInput.value);\n    }\n  });\n  \n  // New challenge button\n  const newChallengeBtn = document.getElementById('new-challenge-btn');\n  newChallengeBtn.addEventListener('click', () => {\n    uiService.showChallengeModal();\n  });\n  \n  // Save challenge button\n  const saveChallengeBtn = document.getElementById('save-challenge-btn');\n  saveChallengeBtn.addEventListener('click', () => {\n    challengeService.saveChallenge();\n  });\n  \n  // Save reading progress button\n  const saveProgressBtn = document.getElementById('save-progress-btn');\n  saveProgressBtn.addEventListener('click', () => {\n    bookService.saveReadingProgress();\n  });\n  \n  // Current page input (update percent)\n  const currentPageInput = document.getElementById('current-page');\n  currentPageInput.addEventListener('input', () => {\n    uiService.updatePercentFromPage();\n  });\n  \n  // Percent complete slider (update page)\n  const percentComplete = document.getElementById('percent-complete');\n  percentComplete.addEventListener('input', () => {\n    uiService.updatePageFromPercent();\n  });\n  \n  // Import form\n  const importForm = document.getElementById('import-form');\n  importForm.addEventListener('submit', (e) => {\n    e.preventDefault();\n    importExportService.importBooks();\n  });\n  \n  // Export buttons\n  const exportJsonBtn = document.getElementById('export-json-btn');\n  exportJsonBtn.addEventListener('click', () => {\n    importExportService.exportBooks('json');\n  });\n  \n  const exportCsvBtn = document.getElementById('export-csv-btn');\n  exportCsvBtn.addEventListener('click', () => {\n    importExportService.exportBooks('csv');\n  });\n}\n","// API Service for handling API requests\nexport const apiService = {\n  // Base URL for API requests\n  baseUrl: process.env.NODE_ENV === 'production' \n    ? 'https://book-database-backend.onrender.com/api' // Replace with your deployed backend URL when available\n    : 'http://localhost:5001/api',\n  \n  // Initialize the API service\n  init() {\n    // Check if we're in development mode\n    if (process.env.NODE_ENV !== 'production') {\n      console.log('API Service initialized in development mode');\n      console.log('API Base URL:', this.baseUrl);\n    }\n  },\n  \n  // Generic GET request\n  async get(endpoint) {\n    try {\n      const response = await fetch(`${this.baseUrl}/${endpoint}`);\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      \n      return await response.json();\n    } catch (error) {\n      console.error('API GET Error:', error);\n      throw error;\n    }\n  },\n  \n  // Generic POST request\n  async post(endpoint, data) {\n    try {\n      const response = await fetch(`${this.baseUrl}/${endpoint}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      });\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      \n      return await response.json();\n    } catch (error) {\n      console.error('API POST Error:', error);\n      throw error;\n    }\n  },\n  \n  // Generic PUT request\n  async put(endpoint, data) {\n    try {\n      const response = await fetch(`${this.baseUrl}/${endpoint}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      });\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      \n      return await response.json();\n    } catch (error) {\n      console.error('API PUT Error:', error);\n      throw error;\n    }\n  },\n  \n  // Generic DELETE request\n  async delete(endpoint) {\n    try {\n      const response = await fetch(`${this.baseUrl}/${endpoint}`, {\n        method: 'DELETE'\n      });\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      \n      return await response.json();\n    } catch (error) {\n      console.error('API DELETE Error:', error);\n      throw error;\n    }\n  },\n  \n  // File upload with FormData\n  async uploadFile(endpoint, file, fileType) {\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      \n      const response = await fetch(`${this.baseUrl}/${endpoint}`, {\n        method: 'POST',\n        body: formData\n      });\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      \n      return await response.json();\n    } catch (error) {\n      console.error('API Upload Error:', error);\n      throw error;\n    }\n  },\n  \n  // Book-specific API methods\n  \n  // Get all books\n  async getBooks() {\n    return this.get('books');\n  },\n  \n  // Get a single book\n  async getBook(id) {\n    return this.get(`books/${id}`);\n  },\n  \n  // Create a new book\n  async createBook(book) {\n    return this.post('books', book);\n  },\n  \n  // Update a book\n  async updateBook(id, book) {\n    return this.put(`books/${id}`, book);\n  },\n  \n  // Delete a book\n  async deleteBook(id) {\n    return this.delete(`books/${id}`);\n  },\n  \n  // Update reading progress\n  async updateReadingProgress(id, progress) {\n    return this.put(`books/${id}/progress`, progress);\n  },\n  \n  // Reading Challenge API methods\n  \n  // Get all challenges\n  async getChallenges() {\n    return this.get('challenges');\n  },\n  \n  // Create a new challenge\n  async createChallenge(challenge) {\n    return this.post('challenges', challenge);\n  },\n  \n  // Update a challenge\n  async updateChallenge(year, challenge) {\n    return this.put(`challenges/${year}`, challenge);\n  },\n  \n  // Import/Export API methods\n  \n  // Import books from JSON\n  async importJson(file) {\n    return this.uploadFile('import/json', file);\n  },\n  \n  // Import books from CSV\n  async importCsv(file) {\n    return this.uploadFile('import/csv', file);\n  },\n  \n  // Export books to JSON\n  async exportJson() {\n    return this.get('export/json');\n  }\n};\n","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (\n      key === 'default' ||\n      key === '__esModule' ||\n      Object.prototype.hasOwnProperty.call(dest, key)\n    ) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n","// UI Service for handling UI-related operations\nexport const uiService = {\n  // Bootstrap modal instances\n  bookModal: null,\n  progressModal: null,\n  challengeModal: null,\n  \n  // Initialize the UI service\n  init() {\n    // Initialize Bootstrap modals\n    this.bookModal = new bootstrap.Modal(document.getElementById('book-modal'));\n    this.progressModal = new bootstrap.Modal(document.getElementById('progress-modal'));\n    this.challengeModal = new bootstrap.Modal(document.getElementById('challenge-modal'));\n  },\n  \n  // Show book modal for adding/editing a book\n  showBookModal(book = null) {\n    const modalTitle = document.getElementById('book-modal-label');\n    const bookForm = document.getElementById('book-form');\n    \n    // Reset form\n    bookForm.reset();\n    \n    if (book) {\n      // Edit existing book\n      modalTitle.textContent = 'Edit Book';\n      \n      // Fill form with book data\n      document.getElementById('book-id').value = book.bookId;\n      document.getElementById('title').value = book.title || '';\n      document.getElementById('author').value = book.author || '';\n      document.getElementById('additional-authors').value = book.additionalAuthors || '';\n      document.getElementById('isbn').value = book.isbn || '';\n      document.getElementById('isbn13').value = book.isbn13 || '';\n      document.getElementById('publisher').value = book.publisher || '';\n      document.getElementById('binding').value = book.binding || '';\n      document.getElementById('pages').value = book.pages || '';\n      document.getElementById('published').value = book.published || '';\n      document.getElementById('edition-published').value = book.editionPublished || '';\n      document.getElementById('exclusive-shelf').value = book.exclusiveShelf || 'to-read';\n      document.getElementById('bookshelves').value = book.bookshelves || '';\n      document.getElementById('rating').value = book.rating || '';\n      document.getElementById('my-review').value = book.myReview || '';\n    } else {\n      // Add new book\n      modalTitle.textContent = 'Add New Book';\n      document.getElementById('book-id').value = '';\n    }\n    \n    this.bookModal.show();\n  },\n  \n  // Show reading progress modal\n  showProgressModal(book) {\n    const bookTitle = document.getElementById('book-title');\n    const totalPages = document.getElementById('total-pages');\n    const currentPage = document.getElementById('current-page');\n    const percentComplete = document.getElementById('percent-complete');\n    const progressBookId = document.getElementById('progress-book-id');\n    \n    // Reset form\n    document.getElementById('progress-form').reset();\n    \n    // Fill form with book data\n    bookTitle.value = book.title;\n    totalPages.value = book.pages || 0;\n    \n    // Set current progress\n    if (book.readingProgress) {\n      currentPage.value = book.readingProgress.currentPage || 0;\n      percentComplete.value = book.readingProgress.percentComplete || 0;\n      document.getElementById('percent-display').textContent = `${book.readingProgress.percentComplete || 0}%`;\n    } else {\n      currentPage.value = 0;\n      percentComplete.value = 0;\n      document.getElementById('percent-display').textContent = '0%';\n    }\n    \n    // Set max value for current page\n    currentPage.max = book.pages || 100;\n    \n    // Set book ID\n    progressBookId.value = book.bookId;\n    \n    this.progressModal.show();\n  },\n  \n  // Show challenge modal\n  showChallengeModal(challenge = null) {\n    const modalTitle = document.getElementById('challenge-modal-label');\n    const challengeForm = document.getElementById('challenge-form');\n    \n    // Reset form\n    challengeForm.reset();\n    \n    if (challenge) {\n      // Edit existing challenge\n      modalTitle.textContent = 'Edit Reading Challenge';\n      \n      // Fill form with challenge data\n      document.getElementById('challenge-year').value = challenge.year;\n      document.getElementById('challenge-goal').value = challenge.goal;\n      \n      // Disable year field for existing challenges\n      document.getElementById('challenge-year').disabled = true;\n    } else {\n      // Add new challenge\n      modalTitle.textContent = 'New Reading Challenge';\n      \n      // Set default year to current year\n      const currentYear = new Date().getFullYear();\n      document.getElementById('challenge-year').value = currentYear;\n      \n      // Enable year field for new challenges\n      document.getElementById('challenge-year').disabled = false;\n    }\n    \n    this.challengeModal.show();\n  },\n  \n  // Update percent complete from current page\n  updatePercentFromPage() {\n    const currentPage = document.getElementById('current-page');\n    const totalPages = document.getElementById('total-pages');\n    const percentComplete = document.getElementById('percent-complete');\n    const percentDisplay = document.getElementById('percent-display');\n    \n    if (totalPages.value > 0) {\n      const percent = Math.round((currentPage.value / totalPages.value) * 100);\n      percentComplete.value = percent;\n      percentDisplay.textContent = `${percent}%`;\n    }\n  },\n  \n  // Update current page from percent complete\n  updatePageFromPercent() {\n    const currentPage = document.getElementById('current-page');\n    const totalPages = document.getElementById('total-pages');\n    const percentComplete = document.getElementById('percent-complete');\n    const percentDisplay = document.getElementById('percent-display');\n    \n    if (totalPages.value > 0) {\n      const page = Math.round((percentComplete.value / 100) * totalPages.value);\n      currentPage.value = page;\n      percentDisplay.textContent = `${percentComplete.value}%`;\n    }\n  },\n  \n  // Show toast notification\n  showToast(message, type = 'success') {\n    // Create toast container if it doesn't exist\n    let toastContainer = document.querySelector('.toast-container');\n    \n    if (!toastContainer) {\n      toastContainer = document.createElement('div');\n      toastContainer.className = 'toast-container position-fixed bottom-0 end-0 p-3';\n      document.body.appendChild(toastContainer);\n    }\n    \n    // Create toast element\n    const toastEl = document.createElement('div');\n    toastEl.className = `toast align-items-center text-white bg-${type} border-0`;\n    toastEl.setAttribute('role', 'alert');\n    toastEl.setAttribute('aria-live', 'assertive');\n    toastEl.setAttribute('aria-atomic', 'true');\n    \n    // Create toast content\n    toastEl.innerHTML = `\n      <div class=\"d-flex\">\n        <div class=\"toast-body\">\n          ${message}\n        </div>\n        <button type=\"button\" class=\"btn-close btn-close-white me-2 m-auto\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>\n      </div>\n    `;\n    \n    // Add toast to container\n    toastContainer.appendChild(toastEl);\n    \n    // Initialize and show toast\n    const toast = new bootstrap.Toast(toastEl, { autohide: true, delay: 3000 });\n    toast.show();\n    \n    // Remove toast after it's hidden\n    toastEl.addEventListener('hidden.bs.toast', () => {\n      toastEl.remove();\n    });\n  },\n  \n  // Show confirmation dialog\n  showConfirmation(message, callback) {\n    if (confirm(message)) {\n      callback();\n    }\n  },\n  \n  // Render star rating\n  renderStarRating(rating) {\n    let stars = '';\n    \n    for (let i = 1; i <= 5; i++) {\n      if (i <= rating) {\n        stars += '<i class=\"bi bi-star-fill rating-star\"></i>';\n      } else {\n        stars += '<i class=\"bi bi-star rating-star\"></i>';\n      }\n    }\n    \n    return stars;\n  },\n  \n  // Format date string (YYYY/MM/DD to MM/DD/YYYY)\n  formatDate(dateString) {\n    if (!dateString) return '';\n    \n    const parts = dateString.split('/');\n    if (parts.length !== 3) return dateString;\n    \n    return `${parts[1]}/${parts[2]}/${parts[0]}`;\n  },\n  \n  // Get shelf badge HTML\n  getShelfBadge(shelf) {\n    let badgeClass = '';\n    let icon = '';\n    \n    switch (shelf) {\n      case 'read':\n        badgeClass = 'shelf-read';\n        icon = 'bi-check-circle';\n        break;\n      case 'currently-reading':\n        badgeClass = 'shelf-currently-reading';\n        icon = 'bi-bookmark';\n        break;\n      case 'to-read':\n        badgeClass = 'shelf-to-read';\n        icon = 'bi-hourglass';\n        break;\n      default:\n        badgeClass = 'bg-secondary text-white';\n        icon = 'bi-book';\n    }\n    \n    return `<span class=\"book-shelf ${badgeClass}\"><i class=\"bi ${icon} me-1\"></i>${this.formatShelfName(shelf)}</span>`;\n  },\n  \n  // Format shelf name for display\n  formatShelfName(shelf) {\n    switch (shelf) {\n      case 'read':\n        return 'Read';\n      case 'currently-reading':\n        return 'Currently Reading';\n      case 'to-read':\n        return 'To Read';\n      default:\n        return shelf;\n    }\n  },\n  \n  // Create pagination\n  createPagination(currentPage, totalPages, onPageChange) {\n    const pagination = document.getElementById('pagination');\n    pagination.innerHTML = '';\n    \n    if (totalPages <= 1) {\n      return;\n    }\n    \n    // Previous button\n    const prevLi = document.createElement('li');\n    prevLi.className = `page-item ${currentPage === 1 ? 'disabled' : ''}`;\n    \n    const prevLink = document.createElement('a');\n    prevLink.className = 'page-link';\n    prevLink.href = '#';\n    prevLink.setAttribute('aria-label', 'Previous');\n    prevLink.innerHTML = '<span aria-hidden=\"true\">&laquo;</span>';\n    \n    if (currentPage > 1) {\n      prevLink.addEventListener('click', (e) => {\n        e.preventDefault();\n        onPageChange(currentPage - 1);\n      });\n    }\n    \n    prevLi.appendChild(prevLink);\n    pagination.appendChild(prevLi);\n    \n    // Page numbers\n    const maxPages = 5;\n    let startPage = Math.max(1, currentPage - Math.floor(maxPages / 2));\n    let endPage = Math.min(totalPages, startPage + maxPages - 1);\n    \n    if (endPage - startPage + 1 < maxPages) {\n      startPage = Math.max(1, endPage - maxPages + 1);\n    }\n    \n    for (let i = startPage; i <= endPage; i++) {\n      const pageLi = document.createElement('li');\n      pageLi.className = `page-item ${i === currentPage ? 'active' : ''}`;\n      \n      const pageLink = document.createElement('a');\n      pageLink.className = 'page-link';\n      pageLink.href = '#';\n      pageLink.textContent = i;\n      \n      if (i !== currentPage) {\n        pageLink.addEventListener('click', (e) => {\n          e.preventDefault();\n          onPageChange(i);\n        });\n      }\n      \n      pageLi.appendChild(pageLink);\n      pagination.appendChild(pageLi);\n    }\n    \n    // Next button\n    const nextLi = document.createElement('li');\n    nextLi.className = `page-item ${currentPage === totalPages ? 'disabled' : ''}`;\n    \n    const nextLink = document.createElement('a');\n    nextLink.className = 'page-link';\n    nextLink.href = '#';\n    nextLink.setAttribute('aria-label', 'Next');\n    nextLink.innerHTML = '<span aria-hidden=\"true\">&raquo;</span>';\n    \n    if (currentPage < totalPages) {\n      nextLink.addEventListener('click', (e) => {\n        e.preventDefault();\n        onPageChange(currentPage + 1);\n      });\n    }\n    \n    nextLi.appendChild(nextLink);\n    pagination.appendChild(nextLi);\n  }\n};\n","import { apiService } from './api.js';\nimport { uiService } from './ui.js';\n\n// Book Service for handling book-related operations\nexport const bookService = {\n  books: [],\n  filteredBooks: [],\n  currentPage: 1,\n  itemsPerPage: 10,\n  totalPages: 1,\n  currentFilter: 'all',\n  activeFilters: {\n    author: '',\n    genre: '',\n    rating: '',\n    readStatus: ''\n  },\n  \n  // Initialize the book service\n  init() {\n    // Set up event delegation for book actions\n    document.addEventListener('click', (e) => {\n      // Edit book button\n      if (e.target.closest('.edit-book-btn')) {\n        const bookId = e.target.closest('.edit-book-btn').getAttribute('data-id');\n        this.editBook(bookId);\n      }\n      \n      // Delete book button\n      if (e.target.closest('.delete-book-btn')) {\n        const bookId = e.target.closest('.delete-book-btn').getAttribute('data-id');\n        this.confirmDeleteBook(bookId);\n      }\n      \n      // Update progress button\n      if (e.target.closest('.progress-book-btn')) {\n        const bookId = e.target.closest('.progress-book-btn').getAttribute('data-id');\n        this.showProgressModal(bookId);\n      }\n    });\n    \n    // Set up event listeners for filter buttons\n    const applyFiltersBtn = document.getElementById('apply-filters-btn');\n    if (applyFiltersBtn) {\n      applyFiltersBtn.addEventListener('click', () => {\n        this.applyFilters();\n      });\n    }\n    \n    const clearFiltersBtn = document.getElementById('clear-filters-btn');\n    if (clearFiltersBtn) {\n      clearFiltersBtn.addEventListener('click', () => {\n        this.clearFilters();\n      });\n    }\n    \n    // Load initial data\n    this.loadBooks();\n  },\n  \n  // Load all books\n  async loadBooks(page = 1) {\n    try {\n      this.currentPage = page;\n      this.currentFilter = null;\n      \n      // Get books from API\n      const books = await apiService.getBooks();\n      this.books = books;\n      this.filteredBooks = books;\n      this.currentFilter = 'all';\n      this.currentPage = page;\n      \n      // Calculate total pages\n      this.totalPages = Math.ceil(books.length / this.itemsPerPage);\n      \n      // Render books table\n      this.renderBooksTable(books);\n      \n      // Create pagination\n      uiService.createPagination(page, this.totalPages, (page) => {\n        this.currentPage = page;\n        this.renderBooksTable(books);\n      });\n      \n      // Populate filter dropdowns\n      this.populateFilterOptions(books);\n      \n      // Reset page title\n      const pageTitle = document.getElementById('page-title');\n      pageTitle.textContent = 'All Books';\n    } catch (error) {\n      console.error('Error loading books:', error);\n      uiService.showToast('Error loading books', 'danger');\n    }\n  },\n  \n  // Load books by shelf\n  async loadShelf(shelf) {\n    try {\n      // Get all books from API\n      const books = await apiService.getBooks();\n      \n      // Filter books by shelf\n      const filteredBooks = books.filter(book => book.exclusiveShelf === shelf);\n      \n      // Store filtered books\n      this.books = books;\n      this.filteredBooks = filteredBooks;\n      this.currentFilter = shelf;\n      \n      // Render books in card view\n      this.renderBookCards(filteredBooks, shelf);\n    } catch (error) {\n      console.error(`Error loading ${shelf} books:`, error);\n      uiService.showToast(`Error loading ${shelf} books`, 'danger');\n    }\n  },\n  \n  // Load favorite books\n  async loadFavorites() {\n    try {\n      // Get all books from API\n      const books = await apiService.getBooks();\n      \n      // Filter books that have \"favorites\" in bookshelves\n      const filteredBooks = books.filter(book => \n        book.bookshelves && book.bookshelves.toLowerCase().includes('favorites')\n      );\n      \n      // Store filtered books\n      this.books = books;\n      this.filteredBooks = filteredBooks;\n      this.currentFilter = 'favorites';\n      \n      // Render books in card view\n      this.renderBookCards(filteredBooks, 'favorites');\n    } catch (error) {\n      console.error('Error loading favorite books:', error);\n      uiService.showToast('Error loading favorite books', 'danger');\n    }\n  },\n  \n  // Search books\n  async searchBooks(query) {\n    if (!query.trim()) {\n      this.loadBooks();\n      return;\n    }\n    \n    try {\n      // Get all books from API\n      const books = await apiService.getBooks();\n      \n      // Filter books by search query\n      const filteredBooks = books.filter(book => {\n        const searchFields = [\n          book.title || '',\n          book.author || '',\n          book.additionalAuthors || '',\n          book.publisher || '',\n          book.isbn || '',\n          book.isbn13 ? book.isbn13.toString() : ''\n        ];\n        \n        const searchText = searchFields.join(' ').toLowerCase();\n        return searchText.includes(query.toLowerCase());\n      });\n      \n      // Store filtered books\n      this.books = books;\n      this.filteredBooks = filteredBooks;\n      this.currentFilter = 'search';\n      this.currentPage = 1; // Reset to first page for search results\n      \n      // Calculate total pages\n      this.totalPages = Math.ceil(filteredBooks.length / this.itemsPerPage);\n      \n      // Render books table\n      this.renderBooksTable(filteredBooks);\n      \n      // Create pagination\n      uiService.createPagination(1, this.totalPages, (page) => {\n        this.currentPage = page;\n        this.renderBooksTable(filteredBooks);\n      });\n      \n      // Show search results message\n      const pageTitle = document.getElementById('page-title');\n      pageTitle.textContent = `Search Results: ${filteredBooks.length} books found`;\n      \n      // Make sure the books page is visible\n      document.querySelectorAll('.page-content').forEach(page => {\n        page.classList.add('d-none');\n      });\n      document.getElementById('books-page').classList.remove('d-none');\n      \n      // Log search results to console for debugging\n      console.log(`Search results for \"${query}\":`, filteredBooks);\n    } catch (error) {\n      console.error('Error searching books:', error);\n      uiService.showToast('Error searching books', 'danger');\n    }\n  },\n  \n  // Populate filter options\n  populateFilterOptions(books) {\n    // Get unique authors\n    const authors = [...new Set(books.map(book => book.author).filter(Boolean))].sort();\n    const authorSelect = document.getElementById('filter-author');\n    \n    // Clear existing options except the first one\n    while (authorSelect.options.length > 1) {\n      authorSelect.remove(1);\n    }\n    \n    // Add author options\n    authors.forEach(author => {\n      const option = document.createElement('option');\n      option.value = author;\n      option.textContent = author;\n      authorSelect.appendChild(option);\n    });\n    \n    // Get unique genres/bookshelves\n    const genres = [...new Set(books.map(book => book.bookshelves).filter(Boolean)\n      .flatMap(shelves => shelves.split(',').map(s => s.trim())))].sort();\n    const genreSelect = document.getElementById('filter-genre');\n    \n    // Clear existing options except the first one\n    while (genreSelect.options.length > 1) {\n      genreSelect.remove(1);\n    }\n    \n    // Add genre options\n    genres.forEach(genre => {\n      const option = document.createElement('option');\n      option.value = genre;\n      option.textContent = genre;\n      genreSelect.appendChild(option);\n    });\n  },\n  \n  // Apply filters\n  applyFilters() {\n    // Get filter values\n    const author = document.getElementById('filter-author').value;\n    const genre = document.getElementById('filter-genre').value;\n    const rating = document.getElementById('filter-rating').value;\n    const readStatus = document.getElementById('filter-read-status').value;\n    \n    // Store active filters\n    this.activeFilters = {\n      author,\n      genre,\n      rating,\n      readStatus\n    };\n    \n    // Filter books\n    let filteredBooks = this.books;\n    \n    // Filter by author\n    if (author) {\n      filteredBooks = filteredBooks.filter(book => book.author === author);\n    }\n    \n    // Filter by genre/bookshelf\n    if (genre) {\n      filteredBooks = filteredBooks.filter(book => {\n        const bookshelves = book.bookshelves || '';\n        return bookshelves.split(',').map(s => s.trim()).includes(genre);\n      });\n    }\n    \n    // Filter by rating\n    if (rating) {\n      const minRating = parseInt(rating);\n      filteredBooks = filteredBooks.filter(book => {\n        const bookRating = book.rating || 0;\n        return bookRating >= minRating;\n      });\n    }\n    \n    // Filter by read status\n    if (readStatus) {\n      filteredBooks = filteredBooks.filter(book => book.exclusiveShelf === readStatus);\n    }\n    \n    // Store filtered books\n    this.filteredBooks = filteredBooks;\n    this.currentFilter = 'filter';\n    this.currentPage = 1; // Reset to first page for filtered results\n    \n    // Calculate total pages\n    this.totalPages = Math.ceil(filteredBooks.length / this.itemsPerPage);\n    \n    // Render books table\n    this.renderBooksTable(filteredBooks);\n    \n    // Create pagination\n    uiService.createPagination(1, this.totalPages, (page) => {\n      this.currentPage = page;\n      this.renderBooksTable(filteredBooks);\n    });\n    \n    // Show filter results message\n    const pageTitle = document.getElementById('page-title');\n    pageTitle.textContent = `Filtered Results: ${filteredBooks.length} books found`;\n    \n    // Make sure the books page is visible\n    document.querySelectorAll('.page-content').forEach(page => {\n      page.classList.add('d-none');\n    });\n    document.getElementById('books-page').classList.remove('d-none');\n    \n    // Hide the filter modal\n    const filterModal = bootstrap.Modal.getInstance(document.getElementById('filter-modal'));\n    filterModal.hide();\n    \n    // Show applied filters summary\n    this.showFilterSummary();\n  },\n  \n  // Clear filters\n  clearFilters() {\n    // Reset filter form\n    document.getElementById('filter-form').reset();\n    \n    // Reset active filters\n    this.activeFilters = {\n      author: '',\n      genre: '',\n      rating: '',\n      readStatus: ''\n    };\n    \n    // Load all books\n    this.loadBooks();\n    \n    // Hide the filter modal\n    const filterModal = bootstrap.Modal.getInstance(document.getElementById('filter-modal'));\n    filterModal.hide();\n  },\n  \n  // Show filter summary\n  showFilterSummary() {\n    const { author, genre, rating, readStatus } = this.activeFilters;\n    \n    if (!author && !genre && !rating && !readStatus) {\n      return;\n    }\n    \n    let message = 'Filters applied: ';\n    const filters = [];\n    \n    if (author) filters.push(`Author: ${author}`);\n    if (genre) filters.push(`Genre: ${genre}`);\n    if (rating) filters.push(`${rating}+ Stars`);\n    if (readStatus) filters.push(`Status: ${uiService.formatShelfName(readStatus)}`);\n    \n    message += filters.join(', ');\n    \n    uiService.showToast(message, 'info');\n  },\n  \n  // Render books table\n  renderBooksTable(books) {\n    const tableBody = document.getElementById('books-table-body');\n    tableBody.innerHTML = '';\n    \n    // Calculate start and end indices for current page\n    const startIndex = (this.currentPage - 1) * this.itemsPerPage;\n    const endIndex = Math.min(startIndex + this.itemsPerPage, books.length);\n    \n    // Get books for current page\n    const booksForPage = books.slice(startIndex, endIndex);\n    \n    if (booksForPage.length === 0) {\n      tableBody.innerHTML = `\n        <tr>\n          <td colspan=\"6\" class=\"text-center\">No books found</td>\n        </tr>\n      `;\n      return;\n    }\n    \n    // Create table rows\n    booksForPage.forEach(book => {\n      const row = document.createElement('tr');\n      \n      // Book title\n      const titleCell = document.createElement('td');\n      titleCell.innerHTML = `<span class=\"book-title\">${book.title}</span>`;\n      row.appendChild(titleCell);\n      \n      // Author\n      const authorCell = document.createElement('td');\n      authorCell.innerHTML = `<span class=\"book-author\">${book.author}</span>`;\n      row.appendChild(authorCell);\n      \n      // Rating\n      const ratingCell = document.createElement('td');\n      ratingCell.innerHTML = `<div class=\"book-rating\">${uiService.renderStarRating(book.rating)}</div>`;\n      row.appendChild(ratingCell);\n      \n      // Shelf\n      const shelfCell = document.createElement('td');\n      shelfCell.innerHTML = uiService.getShelfBadge(book.exclusiveShelf);\n      row.appendChild(shelfCell);\n      \n      // Pages\n      const pagesCell = document.createElement('td');\n      pagesCell.textContent = book.pages || '-';\n      row.appendChild(pagesCell);\n      \n      // Actions\n      const actionsCell = document.createElement('td');\n      actionsCell.innerHTML = `\n        <div class=\"btn-group\" role=\"group\">\n          <button type=\"button\" class=\"btn btn-sm btn-outline-primary action-btn progress-book-btn\" data-id=\"${book.bookId}\" title=\"Update Progress\">\n            <i class=\"bi bi-bookmark\"></i>\n          </button>\n          <button type=\"button\" class=\"btn btn-sm btn-outline-secondary action-btn edit-book-btn\" data-id=\"${book.bookId}\" title=\"Edit\">\n            <i class=\"bi bi-pencil\"></i>\n          </button>\n          <button type=\"button\" class=\"btn btn-sm btn-outline-danger action-btn delete-book-btn\" data-id=\"${book.bookId}\" title=\"Delete\">\n            <i class=\"bi bi-trash\"></i>\n          </button>\n        </div>\n      `;\n      row.appendChild(actionsCell);\n      \n      tableBody.appendChild(row);\n    });\n  },\n  \n  // Render book cards\n  renderBookCards(books, container) {\n    const containerElement = document.getElementById(`${container}-books`);\n    containerElement.innerHTML = '';\n    \n    if (books.length === 0) {\n      containerElement.innerHTML = `\n        <div class=\"col-12 text-center my-5\">\n          <h5>No books found</h5>\n        </div>\n      `;\n      return;\n    }\n    \n    books.forEach(book => {\n      const card = document.createElement('div');\n      card.className = 'col-md-6 col-lg-4 col-xl-3 mb-4';\n      \n      // Reading progress HTML\n      let progressHtml = '';\n      if (book.exclusiveShelf === 'currently-reading' && book.readingProgress) {\n        const percent = book.readingProgress.percentComplete || 0;\n        const currentPage = book.readingProgress.currentPage || 0;\n        const totalPages = book.pages || 0;\n        \n        progressHtml = `\n          <div class=\"progress-container\">\n            <div class=\"progress\">\n              <div class=\"progress-bar bg-success\" role=\"progressbar\" style=\"width: ${percent}%\" \n                aria-valuenow=\"${percent}\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n            </div>\n            <div class=\"progress-info\">\n              <span>${currentPage} of ${totalPages} pages</span>\n              <span>${percent}% complete</span>\n            </div>\n          </div>\n        `;\n      }\n      \n      card.innerHTML = `\n        <div class=\"card book-card\">\n          <div class=\"card-img-top\">\n            <i class=\"bi bi-book\"></i>\n          </div>\n          <div class=\"card-body\">\n            <h5 class=\"card-title\">${book.title}</h5>\n            <p class=\"card-author\">${book.author}</p>\n            <div class=\"card-rating mb-2\">${uiService.renderStarRating(book.rating)}</div>\n            ${uiService.getShelfBadge(book.exclusiveShelf)}\n            ${progressHtml}\n            <div class=\"mt-3\">\n              <button type=\"button\" class=\"btn btn-sm btn-outline-primary progress-book-btn\" data-id=\"${book.bookId}\">\n                <i class=\"bi bi-bookmark me-1\"></i>Update Progress\n              </button>\n              <div class=\"btn-group mt-2\" role=\"group\">\n                <button type=\"button\" class=\"btn btn-sm btn-outline-secondary edit-book-btn\" data-id=\"${book.bookId}\">\n                  <i class=\"bi bi-pencil\"></i>\n                </button>\n                <button type=\"button\" class=\"btn btn-sm btn-outline-danger delete-book-btn\" data-id=\"${book.bookId}\">\n                  <i class=\"bi bi-trash\"></i>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      `;\n      \n      containerElement.appendChild(card);\n    });\n  },\n  \n  // Save book (create or update)\n  async saveBook() {\n    try {\n      // Get form data\n      const bookId = document.getElementById('book-id').value;\n      const title = document.getElementById('title').value;\n      const author = document.getElementById('author').value;\n      const additionalAuthors = document.getElementById('additional-authors').value;\n      const isbn = document.getElementById('isbn').value;\n      const isbn13 = document.getElementById('isbn13').value;\n      const publisher = document.getElementById('publisher').value;\n      const binding = document.getElementById('binding').value;\n      const pages = document.getElementById('pages').value;\n      const published = document.getElementById('published').value;\n      const editionPublished = document.getElementById('edition-published').value;\n      const exclusiveShelf = document.getElementById('exclusive-shelf').value;\n      const bookshelves = document.getElementById('bookshelves').value;\n      const rating = document.getElementById('rating').value;\n      const myReview = document.getElementById('my-review').value;\n      \n      // Create book object\n      const book = {\n        title,\n        author,\n        additionalAuthors,\n        isbn,\n        isbn13: isbn13 ? parseInt(isbn13) : null,\n        publisher,\n        binding,\n        pages: pages ? parseInt(pages) : null,\n        published: published ? parseInt(published) : null,\n        editionPublished: editionPublished ? parseInt(editionPublished) : null,\n        exclusiveShelf,\n        bookshelves,\n        rating: rating ? parseInt(rating) : null,\n        myReview,\n        dateAdded: new Date().toISOString().split('T')[0].replace(/-/g, '/')\n      };\n      \n      let result;\n      \n      if (bookId) {\n        // Update existing book\n        result = await apiService.updateBook(bookId, book);\n        uiService.showToast('Book updated successfully', 'success');\n      } else {\n        // Create new book\n        result = await apiService.createBook(book);\n        uiService.showToast('Book added successfully', 'success');\n      }\n      \n      // Hide modal\n      uiService.bookModal.hide();\n      \n      // Reload books\n      if (this.currentFilter) {\n        if (this.currentFilter === 'favorites') {\n          this.loadFavorites();\n        } else {\n          this.loadShelf(this.currentFilter);\n        }\n      } else {\n        this.loadBooks(this.currentPage);\n      }\n    } catch (error) {\n      console.error('Error saving book:', error);\n      uiService.showToast('Error saving book', 'danger');\n    }\n  },\n  \n  // Edit book\n  async editBook(bookId) {\n    try {\n      // Find book in current books array\n      const book = this.books.find(b => b.bookId == bookId);\n      \n      if (book) {\n        // Show book modal with book data\n        uiService.showBookModal(book);\n      } else {\n        // Fetch book from API\n        const book = await apiService.getBook(bookId);\n        uiService.showBookModal(book);\n      }\n    } catch (error) {\n      console.error('Error editing book:', error);\n      uiService.showToast('Error loading book details', 'danger');\n    }\n  },\n  \n  // Confirm delete book\n  confirmDeleteBook(bookId) {\n    uiService.showConfirmation('Are you sure you want to delete this book?', () => {\n      this.deleteBook(bookId);\n    });\n  },\n  \n  // Delete book\n  async deleteBook(bookId) {\n    try {\n      // Delete book from API\n      await apiService.deleteBook(bookId);\n      \n      // Show success message\n      uiService.showToast('Book deleted successfully', 'success');\n      \n      // Reload books\n      if (this.currentFilter) {\n        if (this.currentFilter === 'favorites') {\n          this.loadFavorites();\n        } else {\n          this.loadShelf(this.currentFilter);\n        }\n      } else {\n        this.loadBooks(this.currentPage);\n      }\n    } catch (error) {\n      console.error('Error deleting book:', error);\n      uiService.showToast('Error deleting book', 'danger');\n    }\n  },\n  \n  // Show progress modal\n  async showProgressModal(bookId) {\n    try {\n      // Find book in current books array\n      let book = this.books.find(b => b.bookId == bookId);\n      \n      if (!book) {\n        // Fetch book from API\n        book = await apiService.getBook(bookId);\n      }\n      \n      if (book) {\n        // Show progress modal with book data\n        uiService.showProgressModal(book);\n      }\n    } catch (error) {\n      console.error('Error showing progress modal:', error);\n      uiService.showToast('Error loading book details', 'danger');\n    }\n  },\n  \n  // Save reading progress\n  async saveReadingProgress() {\n    try {\n      // Get form data\n      const bookId = document.getElementById('progress-book-id').value;\n      const currentPage = parseInt(document.getElementById('current-page').value);\n      const percentComplete = parseInt(document.getElementById('percent-complete').value);\n      \n      // Update reading progress\n      const progress = {\n        currentPage,\n        percentComplete\n      };\n      \n      await apiService.updateReadingProgress(bookId, progress);\n      \n      // Show success message\n      uiService.showToast('Reading progress updated', 'success');\n      \n      // Hide modal\n      uiService.progressModal.hide();\n      \n      // Reload books\n      if (this.currentFilter) {\n        if (this.currentFilter === 'favorites') {\n          this.loadFavorites();\n        } else {\n          this.loadShelf(this.currentFilter);\n        }\n      } else {\n        this.loadBooks(this.currentPage);\n      }\n    } catch (error) {\n      console.error('Error saving reading progress:', error);\n      uiService.showToast('Error updating reading progress', 'danger');\n    }\n  }\n};\n","import { apiService } from './api.js';\nimport { uiService } from './ui.js';\n\n// Challenge Service for handling reading challenge operations\nexport const challengeService = {\n  challenges: [],\n  \n  // Initialize the challenge service\n  init() {\n    // Nothing specific to initialize\n  },\n  \n  // Load all reading challenges\n  async loadChallenges() {\n    try {\n      // Get challenges from API\n      const challenges = await apiService.getChallenges();\n      this.challenges = challenges;\n      \n      // Render challenges\n      this.renderChallenges(challenges);\n      \n      // Create reading progress chart\n      this.createReadingProgressChart(challenges);\n    } catch (error) {\n      console.error('Error loading challenges:', error);\n      uiService.showToast('Error loading reading challenges', 'danger');\n    }\n  },\n  \n  // Render challenges\n  renderChallenges(challenges) {\n    // Render current year challenge\n    this.renderCurrentChallenge(challenges);\n    \n    // Render past challenges\n    this.renderPastChallenges(challenges);\n  },\n  \n  // Render current year challenge\n  renderCurrentChallenge(challenges) {\n    const currentYear = new Date().getFullYear();\n    const currentChallenge = challenges.find(c => c.year === currentYear);\n    \n    const currentChallengeElement = document.getElementById('current-challenge');\n    \n    if (!currentChallenge) {\n      currentChallengeElement.innerHTML = `\n        <div class=\"text-center py-4\">\n          <p>No reading challenge set for ${currentYear}</p>\n          <button class=\"btn btn-primary\" id=\"new-challenge-btn\">\n            <i class=\"bi bi-plus-lg me-2\"></i>Set a Reading Goal\n          </button>\n        </div>\n      `;\n      \n      // Add event listener to new challenge button\n      const newChallengeBtn = document.getElementById('new-challenge-btn');\n      newChallengeBtn.addEventListener('click', () => {\n        uiService.showChallengeModal();\n      });\n      \n      return;\n    }\n    \n    // Calculate progress percentage\n    const progressPercent = Math.min(100, Math.round((currentChallenge.completed / currentChallenge.goal) * 100));\n    \n    // Determine progress bar color\n    let progressColor = 'bg-success';\n    if (progressPercent < 25) {\n      progressColor = 'bg-danger';\n    } else if (progressPercent < 50) {\n      progressColor = 'bg-warning';\n    } else if (progressPercent < 75) {\n      progressColor = 'bg-info';\n    }\n    \n    currentChallengeElement.innerHTML = `\n      <div class=\"challenge-card\">\n        <h2 class=\"text-center mb-3\">${currentYear} Reading Challenge</h2>\n        <div class=\"text-center mb-4\">\n          <h3>\n            <span class=\"badge ${progressPercent >= 100 ? 'bg-success' : 'bg-primary'}\">\n              ${currentChallenge.completed} of ${currentChallenge.goal} books\n            </span>\n          </h3>\n        </div>\n        <div class=\"progress challenge-progress\">\n          <div class=\"progress-bar ${progressColor}\" role=\"progressbar\" \n            style=\"width: ${progressPercent}%\" \n            aria-valuenow=\"${progressPercent}\" \n            aria-valuemin=\"0\" \n            aria-valuemax=\"100\">\n            ${progressPercent}%\n          </div>\n        </div>\n        <div class=\"challenge-info\">\n          <span>Started: ${new Date(currentChallenge.createdAt).toLocaleDateString()}</span>\n          <span>${currentChallenge.goal - currentChallenge.completed} books to go</span>\n        </div>\n        <div class=\"text-center mt-4\">\n          <button class=\"btn btn-outline-primary edit-challenge-btn\" data-year=\"${currentChallenge.year}\">\n            <i class=\"bi bi-pencil me-2\"></i>Edit Challenge\n          </button>\n        </div>\n      </div>\n    `;\n    \n    // Add event listener to edit challenge button\n    const editChallengeBtn = document.querySelector('.edit-challenge-btn');\n    editChallengeBtn.addEventListener('click', () => {\n      this.editChallenge(currentChallenge.year);\n    });\n  },\n  \n  // Render past challenges\n  renderPastChallenges(challenges) {\n    const currentYear = new Date().getFullYear();\n    const pastChallenges = challenges.filter(c => c.year !== currentYear).sort((a, b) => b.year - a.year);\n    \n    const pastChallengesElement = document.getElementById('past-challenges');\n    \n    if (pastChallenges.length === 0) {\n      pastChallengesElement.innerHTML = `\n        <tr>\n          <td colspan=\"4\" class=\"text-center\">No past reading challenges</td>\n        </tr>\n      `;\n      return;\n    }\n    \n    pastChallengesElement.innerHTML = '';\n    \n    pastChallenges.forEach(challenge => {\n      // Calculate progress percentage\n      const progressPercent = Math.min(100, Math.round((challenge.completed / challenge.goal) * 100));\n      \n      // Determine progress bar color\n      let progressColor = 'bg-success';\n      if (progressPercent < 25) {\n        progressColor = 'bg-danger';\n      } else if (progressPercent < 50) {\n        progressColor = 'bg-warning';\n      } else if (progressPercent < 75) {\n        progressColor = 'bg-info';\n      }\n      \n      const row = document.createElement('tr');\n      \n      row.innerHTML = `\n        <td>${challenge.year}</td>\n        <td>${challenge.goal}</td>\n        <td>${challenge.completed}</td>\n        <td>\n          <div class=\"progress\">\n            <div class=\"progress-bar ${progressColor}\" role=\"progressbar\" \n              style=\"width: ${progressPercent}%\" \n              aria-valuenow=\"${progressPercent}\" \n              aria-valuemin=\"0\" \n              aria-valuemax=\"100\">\n              ${progressPercent}%\n            </div>\n          </div>\n        </td>\n      `;\n      \n      pastChallengesElement.appendChild(row);\n    });\n  },\n  \n  // Create reading progress chart\n  createReadingProgressChart(challenges) {\n    const currentYear = new Date().getFullYear();\n    const currentChallenge = challenges.find(c => c.year === currentYear);\n    \n    if (!currentChallenge) {\n      return;\n    }\n    \n    const ctx = document.getElementById('reading-progress-chart').getContext('2d');\n    \n    // Get monthly data (this would normally come from the API)\n    // For now, we'll create mock data\n    const monthlyData = this.generateMonthlyData(currentChallenge.completed);\n    \n    // Calculate target line (goal divided by 12 months, cumulative)\n    const targetLine = Array(12).fill(0).map((_, i) => {\n      return Math.round(((i + 1) / 12) * currentChallenge.goal);\n    });\n    \n    // Create chart\n    new Chart(ctx, {\n      type: 'line',\n      data: {\n        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n        datasets: [\n          {\n            label: 'Books Read',\n            data: monthlyData.cumulative,\n            backgroundColor: 'rgba(0, 123, 255, 0.1)',\n            borderColor: 'rgba(0, 123, 255, 1)',\n            borderWidth: 2,\n            fill: true,\n            tension: 0.4\n          },\n          {\n            label: 'Target',\n            data: targetLine,\n            borderColor: 'rgba(220, 53, 69, 0.5)',\n            borderWidth: 2,\n            borderDash: [5, 5],\n            fill: false,\n            pointRadius: 0\n          }\n        ]\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        scales: {\n          y: {\n            beginAtZero: true,\n            ticks: {\n              precision: 0\n            }\n          }\n        },\n        plugins: {\n          tooltip: {\n            callbacks: {\n              label: function(context) {\n                const label = context.dataset.label || '';\n                const value = context.parsed.y;\n                return `${label}: ${value} books`;\n              }\n            }\n          }\n        }\n      }\n    });\n  },\n  \n  // Generate monthly reading data (mock data)\n  generateMonthlyData(totalBooks) {\n    const currentMonth = new Date().getMonth();\n    \n    // Generate random monthly counts that sum to totalBooks\n    const monthlyCount = Array(12).fill(0);\n    \n    // Only fill months up to current month\n    let remaining = totalBooks;\n    for (let i = 0; i <= currentMonth; i++) {\n      if (i === currentMonth) {\n        monthlyCount[i] = remaining;\n      } else {\n        const count = Math.floor(Math.random() * (remaining / 2)) + 1;\n        monthlyCount[i] = Math.min(count, remaining);\n        remaining -= monthlyCount[i];\n      }\n      \n      if (remaining <= 0) break;\n    }\n    \n    // Calculate cumulative counts\n    const cumulativeCount = [];\n    let sum = 0;\n    \n    for (let i = 0; i < 12; i++) {\n      sum += monthlyCount[i];\n      cumulativeCount.push(sum);\n    }\n    \n    return {\n      monthly: monthlyCount,\n      cumulative: cumulativeCount\n    };\n  },\n  \n  // Save challenge\n  async saveChallenge() {\n    try {\n      // Get form data\n      const year = parseInt(document.getElementById('challenge-year').value);\n      const goal = parseInt(document.getElementById('challenge-goal').value);\n      \n      if (!year || !goal) {\n        uiService.showToast('Please fill in all fields', 'warning');\n        return;\n      }\n      \n      // Check if challenge for this year already exists\n      const existingChallenge = this.challenges.find(c => c.year === year);\n      \n      if (existingChallenge) {\n        // Update existing challenge\n        await apiService.updateChallenge(year, { goal, completed: existingChallenge.completed });\n        uiService.showToast('Reading challenge updated', 'success');\n      } else {\n        // Create new challenge\n        await apiService.createChallenge({ year, goal });\n        uiService.showToast('Reading challenge created', 'success');\n      }\n      \n      // Hide modal\n      uiService.challengeModal.hide();\n      \n      // Reload challenges\n      this.loadChallenges();\n    } catch (error) {\n      console.error('Error saving challenge:', error);\n      uiService.showToast('Error saving reading challenge', 'danger');\n    }\n  },\n  \n  // Edit challenge\n  editChallenge(year) {\n    const challenge = this.challenges.find(c => c.year === year);\n    \n    if (challenge) {\n      uiService.showChallengeModal(challenge);\n    }\n  }\n};\n","import { apiService } from './api.js';\nimport { uiService } from './ui.js';\nimport { bookService } from './book-service.js';\n\n// Import/Export Service for handling file operations\nexport const importExportService = {\n  // Initialize the import/export service\n  init() {\n    // Nothing specific to initialize\n  },\n  \n  // Import books from file\n  async importBooks() {\n    try {\n      const fileInput = document.getElementById('import-file');\n      \n      if (!fileInput.files || fileInput.files.length === 0) {\n        uiService.showToast('Please select a file to import', 'warning');\n        return;\n      }\n      \n      const file = fileInput.files[0];\n      const fileType = this.getFileType(file.name);\n      \n      if (!fileType) {\n        uiService.showToast('Unsupported file format. Please use JSON or CSV files.', 'warning');\n        return;\n      }\n      \n      // Show loading message\n      uiService.showToast('Importing books, please wait...', 'info');\n      \n      let result;\n      \n      if (fileType === 'json') {\n        result = await apiService.importJson(file);\n      } else if (fileType === 'csv') {\n        result = await apiService.importCsv(file);\n      }\n      \n      // Show success message\n      uiService.showToast(result.message, 'success');\n      \n      // Reset file input\n      fileInput.value = '';\n      \n      // Reload books\n      bookService.loadBooks();\n    } catch (error) {\n      console.error('Error importing books:', error);\n      uiService.showToast('Error importing books', 'danger');\n    }\n  },\n  \n  // Export books to file\n  async exportBooks(format) {\n    try {\n      // Show loading message\n      uiService.showToast(`Preparing ${format.toUpperCase()} export...`, 'info');\n      \n      // Get books from API\n      const books = await apiService.exportJson();\n      \n      if (format === 'json') {\n        this.exportJson(books);\n      } else if (format === 'csv') {\n        this.exportCsv(books);\n      }\n    } catch (error) {\n      console.error('Error exporting books:', error);\n      uiService.showToast('Error exporting books', 'danger');\n    }\n  },\n  \n  // Export books to JSON file\n  exportJson(books) {\n    const jsonString = JSON.stringify(books, null, 2);\n    const blob = new Blob([jsonString], { type: 'application/json' });\n    \n    // Generate filename with current date\n    const date = new Date().toISOString().split('T')[0];\n    const filename = `book_export_${date}.json`;\n    \n    // Save file\n    saveAs(blob, filename);\n    \n    // Show success message\n    uiService.showToast('Books exported to JSON successfully', 'success');\n  },\n  \n  // Export books to CSV file\n  exportCsv(books) {\n    // Get all possible headers from books\n    const headers = this.getAllHeaders(books);\n    \n    // Create CSV content\n    let csvContent = headers.join(',') + '\\\\n';\n    \n    books.forEach(book => {\n      const row = headers.map(header => {\n        const value = book[this.camelCase(header)];\n        \n        // Handle different value types\n        if (value === null || value === undefined) {\n          return '';\n        } else if (typeof value === 'string') {\n          // Escape quotes and wrap in quotes\n          return '\"' + value.replace(/\"/g, '\"\"') + '\"';\n        } else if (Array.isArray(value)) {\n          return '\"' + JSON.stringify(value).replace(/\"/g, '\"\"') + '\"';\n        } else {\n          return value;\n        }\n      });\n      \n      csvContent += row.join(',') + '\\\\n';\n    });\n    \n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8' });\n    \n    // Generate filename with current date\n    const date = new Date().toISOString().split('T')[0];\n    const filename = `book_export_${date}.csv`;\n    \n    // Save file\n    saveAs(blob, filename);\n    \n    // Show success message\n    uiService.showToast('Books exported to CSV successfully', 'success');\n  },\n  \n  // Get file type from filename\n  getFileType(filename) {\n    const extension = filename.split('.').pop().toLowerCase();\n    \n    if (extension === 'json') {\n      return 'json';\n    } else if (extension === 'csv') {\n      return 'csv';\n    }\n    \n    return null;\n  },\n  \n  // Get all headers from books\n  getAllHeaders(books) {\n    const headers = new Set();\n    \n    // Original headers from the Goodreads export\n    const originalHeaders = [\n      'Book Id',\n      'Title',\n      'Author',\n      'Author (By Last Name)',\n      'Additional Authors',\n      'ISBN',\n      'ISBN13',\n      'Rating',\n      'Average Rating',\n      'Publisher',\n      'Binding',\n      'Pages',\n      'BEq',\n      'Edition Published',\n      'Published',\n      'Date Read',\n      'Date Added',\n      'Bookshelves',\n      'Bookshelves with positions',\n      'Exclusive Shelf',\n      'My Review',\n      'Spoiler',\n      'Private Notes',\n      'Read Count',\n      'Owned Copies'\n    ];\n    \n    // Add original headers\n    originalHeaders.forEach(header => headers.add(header));\n    \n    return Array.from(headers);\n  },\n  \n  // Convert header to camelCase\n  camelCase(header) {\n    // Special case for 'Book Id'\n    if (header === 'Book Id') return 'bookId';\n    \n    // Special case for 'Author (By Last Name)'\n    if (header === 'Author (By Last Name)') return 'authorByLastName';\n    \n    // Special case for 'BEq'\n    if (header === 'BEq') return 'beq';\n    \n    // Special case for 'ISBN'\n    if (header === 'ISBN') return 'isbn';\n    \n    // Special case for 'ISBN13'\n    if (header === 'ISBN13') return 'isbn13';\n    \n    // Special case for 'Bookshelves with positions'\n    if (header === 'Bookshelves with positions') return 'bookshelvesWithPositions';\n    \n    // Special case for 'Exclusive Shelf'\n    if (header === 'Exclusive Shelf') return 'exclusiveShelf';\n    \n    // Special case for 'My Review'\n    if (header === 'My Review') return 'myReview';\n    \n    // Special case for 'Read Count'\n    if (header === 'Read Count') return 'readCount';\n    \n    // Special case for 'Owned Copies'\n    if (header === 'Owned Copies') return 'ownedCopies';\n    \n    // Special case for 'Edition Published'\n    if (header === 'Edition Published') return 'editionPublished';\n    \n    // Special case for 'Date Read'\n    if (header === 'Date Read') return 'dateRead';\n    \n    // Special case for 'Date Added'\n    if (header === 'Date Added') return 'dateAdded';\n    \n    // Special case for 'Private Notes'\n    if (header === 'Private Notes') return 'privateNotes';\n    \n    // Special case for 'Average Rating'\n    if (header === 'Average Rating') return 'averageRating';\n    \n    // General case\n    return header.toLowerCase().replace(/\\s(.)/g, (_, char) => char.toUpperCase());\n  }\n};\n"],"names":[],"version":3,"file":"index.4d6bcbeb.js.map","sourceRoot":"/__parcel_source_root/"}